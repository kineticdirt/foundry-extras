/* Chat Channels */
.chat-channels {
	flex: 0 0 auto;
	padding: 5px;
	border-bottom: 1px solid #000;
	background: rgba(0, 0, 0, 0.2);
}

.channel-tabs {
	display: flex;
	gap: 5px;
	justify-content: space-around;
}

.channel-tab {
	flex: 1;
	border: 1px solid #333;
	background: rgba(0, 0, 0, 0.5);
	color: #aaa;
	cursor: pointer;
	padding: 5px;
	border-radius: 3px;
}

.channel-tab.active {
	background: rgba(255, 100, 0, 0.4);
	color: #fff;
	border-color: #ff6400;
}

.channel-settings {
	margin-top: 5px;
	padding: 5px;
	background: rgba(0, 0, 0, 0.3);
	border-radius: 3px;
	font-size: 0.9em;
}

/* Hide Foundry Application window frame for Clothing HUD - Aggressive removal */
#clothing-hud.window-app .window-header,
.clothing-hud-app.window-app .window-header,
.window-app.clothing-hud-window .window-header,
.window-app[data-app-id="clothing-hud"] .window-header,
.window-app[data-app-id="clothing-hud"] header.window-header {
	display: none !important;
	visibility: hidden !important;
	height: 0 !important;
	padding: 0 !important;
	margin: 0 !important;
	overflow: hidden !important;
	opacity: 0 !important;
	pointer-events: none !important;
}

/* Hide all close buttons in the window header */
.window-app[data-app-id="clothing-hud"] .header-button.close,
.window-app[data-app-id="clothing-hud"] .control.close,
.window-app[data-app-id="clothing-hud"] a.close,
.window-app[data-app-id="clothing-hud"] .window-header a {
	display: none !important;
	visibility: hidden !important;
}

#clothing-hud.window-app,
.clothing-hud-app.window-app,
.window-app.clothing-hud-window,
.window-app[data-app-id="clothing-hud"] {
	background: transparent !important;
	border: none !important;
	box-shadow: none !important;
	padding: 0 !important;
}

#clothing-hud.window-app .window-content,
.clothing-hud-app.window-app .window-content,
.window-app.clothing-hud-window .window-content,
.window-app[data-app-id="clothing-hud"] .window-content {
	padding: 0 !important;
	margin: 0 !important;
	border: none !important;
	background: transparent !important;
	overflow: visible !important;
}

/* Clothing HUD - Positioned on RIGHT side */
/* Target the window-app wrapper */
.window-app[data-app-id="clothing-hud"],
.window-app.clothing-hud-window {
	position: fixed !important;
	top: 50% !important;
	right: 320px !important; /* Default: 300px chat + 20px padding */
	left: auto !important;
	transform: translateY(-50%) !important;
	z-index: 50 !important;
}

/* Target the actual clothing-hud content */
#clothing-hud,
.clothing-hud-app .clothing-hud,
.window-content .clothing-hud,
.clothing-hud {
	width: 200px;
	max-height: 90vh;
	background: rgba(0, 0, 0, 0.85);
	border: 2px solid #444;
	border-radius: 8px;
	padding: 0;
	display: flex;
	flex-direction: column;
	gap: 0;
	box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
	overflow: hidden;
}

/* HUD Header - Larger and more functional */
.hud-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	padding: 10px 12px;
	background: rgba(255, 255, 255, 0.15);
	border-bottom: 2px solid #555;
	cursor: move;
	min-height: 36px;
}

.hud-title {
	font-size: 14px;
	font-weight: bold;
	color: #fff;
	text-transform: uppercase;
	letter-spacing: 1px;
	flex: 1;
}

.hud-controls {
	display: flex;
	gap: 4px;
	align-items: center;
}

.hud-lock-btn,
.hud-minimize-btn {
	background: rgba(255, 255, 255, 0.1);
	border: 1px solid #555;
	color: #ccc;
	cursor: pointer;
	padding: 4px 8px;
	border-radius: 4px;
	transition: all 0.2s ease;
	font-size: 12px;
	display: flex;
	align-items: center;
	justify-content: center;
	min-width: 28px;
	height: 28px;
}

.hud-lock-btn:hover,
.hud-minimize-btn:hover {
	background: rgba(255, 100, 0, 0.3);
	border-color: #ff6400;
	color: #ff6400;
	transform: scale(1.05);
}

.hud-header.locked,
.clothing-hud.locked .hud-header {
	cursor: default !important;
}

/* HUD Content */
.hud-content {
	padding: 8px;
	display: flex;
	flex-direction: column;
	gap: 8px;
	overflow-y: auto;
	max-height: calc(90vh - 40px);
}

/* Minimized State */
.clothing-hud.minimized {
	width: auto;
	min-width: 120px;
}

.clothing-hud.minimized .hud-content {
	display: none;
}

.clothing-hud.minimized .hud-header {
	border-bottom: none;
}


/* Section Container */
.clothing-section {
	background: rgba(255, 255, 255, 0.03);
	border: 1px solid #333;
	border-radius: 5px;
	padding: 5px;
}

/* Section Header */
.section-header {
	display: flex;
	align-items: center;
	gap: 6px;
	padding: 4px 6px;
	background: rgba(255, 255, 255, 0.05);
	border-radius: 3px;
	margin-bottom: 5px;
	font-size: 12px;
	font-weight: bold;
	color: #ccc;
}

.section-header i {
	font-size: 14px;
	color: #ff6400;
}

.section-label {
	text-transform: uppercase;
	letter-spacing: 0.5px;
}

/* Slots Container */
.section-slots {
	display: flex;
	flex-wrap: wrap;
	gap: 4px;
}

/* Individual Slot */
.clothing-slot {
	width: 45px;
	height: 45px;
	border: 1px dashed #555;
	border-radius: 4px;
	position: relative;
	cursor: pointer;
	background: rgba(255, 255, 255, 0.05);
	transition: all 0.2s ease;
}

.clothing-slot:hover {
	border-color: #ff6400;
	background: rgba(255, 100, 0, 0.1);
}

.clothing-slot.filled {
	border-style: solid;
	border-color: #777;
}

.clothing-slot.drag-over {
	border-color: #ff6400;
	background: rgba(255, 100, 0, 0.3);
	transform: scale(1.05);
}

/* Slot Image */
.clothing-slot img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	border-radius: 3px;
}

/* Slot Placeholder (when empty) */
.slot-placeholder {
	width: 100%;
	height: 100%;
	display: flex;
	align-items: center;
	justify-content: center;
}

.slot-layer {
	font-size: 10px;
	color: #666;
	font-weight: bold;
}

/* Remove Button */
.clothing-slot .remove-item {
	position: absolute;
	top: -6px;
	right: -6px;
	background: #c00;
	color: white;
	border-radius: 50%;
	width: 16px;
	height: 16px;
	font-size: 10px;
	display: none;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	border: 1px solid #000;
	transition: all 0.2s ease;
}

.clothing-slot .remove-item:hover {
	background: #f00;
	transform: scale(1.1);
}

.clothing-slot:hover .remove-item {
	display: flex;
}

/* Drag and Drop Visual Feedback */
.clothing-slot.drag-over {
	border-color: #ff6400 !important;
	background: rgba(255, 100, 0, 0.3) !important;
	transform: scale(1.05);
}

/* ============================================
   CLOTHING PANEL - Left-side panel near chat
   ============================================ */

/* Hide Foundry window frame for Clothing Panel */
.window-app.clothing-panel-window .window-header,
.window-app[data-app-id="clothing-panel"] .window-header {
	display: none !important;
	visibility: hidden !important;
}

.window-app.clothing-panel-window,
.window-app[data-app-id="clothing-panel"] {
	background: transparent !important;
	border: none !important;
	box-shadow: none !important;
	padding: 0 !important;
}

.window-app[data-app-id="clothing-panel"] .window-content {
	padding: 0 !important;
	margin: 0 !important;
	border: none !important;
	background: transparent !important;
	overflow: visible !important;
}

/* Clothing Panel Container */
.clothing-panel {
	width: 80px;
	min-height: 500px; /* Height to accommodate silhouette */
	padding: 8px;
	background: rgba(0, 0, 0, 0.85);
	border: 2px solid #444;
	border-radius: 8px;
	box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
	position: relative;
	display: block;
	overflow: visible;
}

/* Silhouette Background - Expanded and partially visible */
.clothing-panel .silhouette-background {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	width: 100%;
	height: 100%;
	background-image: url('modules/foundry-extras/icons/woman-silhouette.png');
	background-size: 90% auto; /* Expanded to 90% of container width */
	background-position: center;
	background-repeat: no-repeat;
	opacity: 0.4; /* Partially visible - visible but not overwhelming */
	pointer-events: none;
	z-index: 0;
}

/* Fallback SVG silhouette if PNG not found - Expanded and visible */
.clothing-panel .silhouette-background::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	width: 100%;
	height: 100%;
	background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 500"><path fill="rgba(255,255,255,0.4)" d="M50 20 Q35 20 30 40 L25 60 Q20 80 25 100 L30 140 Q35 180 40 220 L45 280 Q48 320 50 360 L55 400 Q58 440 60 460 L65 480 Q70 490 50 490 Q30 490 35 480 L40 460 Q42 440 45 400 Q48 360 50 320 L55 280 Q60 220 65 180 L70 140 Q75 100 70 60 L65 40 Q60 20 50 20 Z"/></svg>');
	background-size: 90% auto; /* Expanded to 90% */
	background-position: center;
	background-repeat: no-repeat;
	opacity: 0.4;
}

/* Clothing Panel Slots - Positioned absolutely over silhouette */
.clothing-panel .clothing-slot {
	width: 44px;
	height: 44px;
	border: 1px dashed #555;
	border-radius: 4px;
	position: absolute;
	cursor: pointer;
	background: rgba(255, 255, 255, 0.1);
	transition: all 0.2s ease;
	z-index: 10;
	left: 50%;
	transform: translateX(-50%);
}

/* Position slots to align with body parts on silhouette */
.clothing-panel .clothing-slot[data-body-part="head"] {
	top: 5%;
}

.clothing-panel .clothing-slot[data-body-part="neck"] {
	top: 12%;
}

.clothing-panel .clothing-slot[data-body-part="chest"] {
	top: 20%;
}

.clothing-panel .clothing-slot[data-body-part="arms"] {
	top: 25%;
}

.clothing-panel .clothing-slot[data-body-part="abdomen"] {
	top: 40%;
}

.clothing-panel .clothing-slot[data-body-part="hips"] {
	top: 55%;
}

.clothing-panel .clothing-slot[data-body-part="legs"] {
	top: 70%;
}

.clothing-panel .clothing-slot[data-body-part="feet"] {
	top: 85%;
}

.clothing-panel .clothing-slot:hover {
	border-color: #ff6400;
	background: rgba(255, 100, 0, 0.2);
}

.clothing-panel .clothing-slot.filled {
	border-style: solid;
	border-color: #777;
	background: rgba(255, 255, 255, 0.15);
}

.clothing-panel .clothing-slot.drag-over {
	border-color: #ff6400 !important;
	background: rgba(255, 100, 0, 0.4) !important;
	transform: scale(1.1);
	z-index: 10;
}

.clothing-panel .clothing-slot img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	border-radius: 3px;
}

.clothing-panel .clothing-slot .slot-placeholder {
	width: 100%;
	height: 100%;
	display: flex;
	align-items: center;
	justify-content: center;
	color: #666;
	font-size: 18px;
}

.clothing-panel .clothing-slot .slot-placeholder i {
	opacity: 0.5;
}

.clothing-panel .clothing-slot .remove-item {
	position: absolute;
	top: -6px;
	right: -6px;
	background: #c00;
	color: white;
	border-radius: 50%;
	width: 18px;
	height: 18px;
	font-size: 11px;
	display: none;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	border: 1px solid #000;
	transition: all 0.2s ease;
	z-index: 20;
}

.clothing-panel .clothing-slot .remove-item:hover {
	background: #f00;
	transform: scale(1.2);
}

.clothing-panel .clothing-slot:hover .remove-item {
	display: flex;
}